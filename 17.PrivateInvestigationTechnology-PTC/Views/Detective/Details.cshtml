@model _17.PrivateInvestigationTechnology_PTC.Models.Detective

@{
    ViewData["Title"] = "Detalles del Detective";
}

<h2>Detalles del Detective</h2>

<div>
    <dl class="row">
        <dt class="col-sm-2">Email</dt>
        <dd class="col-sm-10">@Model.IdentityUser?.Email</dd>

        <dt class="col-sm-2">Phone Number</dt>
        <dd class="col-sm-10">@Model.IdentityUser?.PhoneNumber</dd>

        <dt class="col-sm-2">Full Name</dt>
        <dd class="col-sm-10">@Model.IdentityUser?.FullName</dd>

        <dt class="col-sm-2">Número de Identidad</dt>
        <dd class="col-sm-10">@Model.NumeroIdentidad</dd>

        <dt class="col-sm-2">Hoja de Vida</dt>
        <dd class="col-sm-10">
            @if (Model.HojaDeVida != null)
            {
                <!-- Vista previa PDF -->
                <a class="btn btn-info" asp-action="PreviewHojaDeVida" asp-route-id="@Model.Id">Ver Hoja de Vida</a>

                <!-- Botón para descargar la hoja de vida -->
                <a class="btn btn-primary" asp-action="DownloadHojaDeVida" asp-route-id="@Model.Id">Descargar Hoja de Vida</a>
            }
            else
            {
                <span>No hay hoja de vida disponible</span>
            }
        </dd>

        <dt class="col-sm-2">Foto de Perfil</dt>
        <dd class="col-sm-10">
            @if (Model.FotoPerfil != null)
            {
                <img src="data:image/jpeg;base64,@Convert.ToBase64String(Model.FotoPerfil)" alt="Foto de Perfil" style="max-width: 200px; max-height: 200px;" />
            }
            else
            {
                <span>No hay foto de perfil disponible</span>
            }
        </dd>
    </dl>
    <!-- Botón para editar el detective -->
    <a href="@Url.Action("Edit", new { id = Model.Id })" class="btn btn-warning">Editar</a>
    <a href="@Url.Action("Index")" class="btn btn-secondary">Volver</a>
</div>
